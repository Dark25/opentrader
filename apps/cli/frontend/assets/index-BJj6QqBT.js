import{a_ as I,aZ as P,aY as S}from"./index-DacOZnWA.js";import{u as T}from"./url-CCw57Dwn.js";import{e as N}from"./browser-BwFqrqKh.js";const V=I(T);var A={exports:{}},k,M;function R(){if(M)return k;M=1;var a=1e3,u=a*60,r=u*60,o=r*24,f=o*7,n=o*365.25;k=function(e,t){t=t||{};var s=typeof e;if(s==="string"&&e.length>0)return C(e);if(s==="number"&&isFinite(e))return t.long?p(e):l(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function C(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return s*n;case"weeks":case"week":case"w":return s*f;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*u;case"seconds":case"second":case"secs":case"sec":case"s":return s*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function l(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=r?Math.round(e/r)+"h":t>=u?Math.round(e/u)+"m":t>=a?Math.round(e/a)+"s":e+"ms"}function p(e){var t=Math.abs(e);return t>=o?i(e,t,o,"day"):t>=r?i(e,t,r,"hour"):t>=u?i(e,t,u,"minute"):t>=a?i(e,t,a,"second"):e+" ms"}function i(e,t,s,c){var g=t>=s*1.5;return Math.round(e/s)+" "+c+(g?"s":"")}return k}function L(a){r.debug=r,r.default=r,r.coerce=p,r.disable=n,r.enable=f,r.enabled=C,r.humanize=R(),r.destroy=i,Object.keys(a).forEach(e=>{r[e]=a[e]}),r.names=[],r.skips=[],r.formatters={};function u(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t|=0;return r.colors[Math.abs(t)%r.colors.length]}r.selectColor=u;function r(e){let t,s=null,c,g;function h(...d){if(!h.enabled)return;const m=h,b=Number(new Date),$=b-(t||b);m.diff=$,m.prev=t,m.curr=b,t=b,d[0]=r.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let y=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(v,j)=>{if(v==="%%")return"%";y++;const _=r.formatters[j];if(typeof _=="function"){const D=d[y];v=_.call(m,D),d.splice(y,1),y--}return v}),r.formatArgs.call(m,d),(m.log||r.log).apply(m,d)}return h.namespace=e,h.useColors=r.useColors(),h.color=r.selectColor(e),h.extend=o,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>s!==null?s:(c!==r.namespaces&&(c=r.namespaces,g=r.enabled(e)),g),set:d=>{s=d}}),typeof r.init=="function"&&r.init(h),h}function o(e,t){const s=r(this.namespace+(typeof t>"u"?":":t)+e);return s.log=this.log,s}function f(e){r.save(e),r.namespaces=e,r.names=[],r.skips=[];let t;const s=(typeof e=="string"?e:"").split(/[\s,]+/),c=s.length;for(t=0;t<c;t++)s[t]&&(e=s[t].replace(/\*/g,".*?"),e[0]==="-"?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function n(){const e=[...r.names.map(l),...r.skips.map(l).map(t=>"-"+t)].join(",");return r.enable(""),e}function C(e){if(e[e.length-1]==="*")return!0;let t,s;for(t=0,s=r.skips.length;t<s;t++)if(r.skips[t].test(e))return!1;for(t=0,s=r.names.length;t<s;t++)if(r.names[t].test(e))return!0;return!1}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function p(e){return e instanceof Error?e.stack||e.message:e}function i(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var z=L;(function(a,u){var r={};u.formatArgs=f,u.save=n,u.load=C,u.useColors=o,u.storage=l(),u.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),u.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let i;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(i=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(i[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const e="color: "+this.color;i.splice(1,0,e,"color: inherit");let t=0,s=0;i[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(t++,c==="%c"&&(s=t))}),i.splice(s,0,e)}u.log=console.debug||console.log||(()=>{});function n(i){try{i?u.storage.setItem("debug",i):u.storage.removeItem("debug")}catch{}}function C(){let i;try{i=u.storage.getItem("debug")}catch{}return!i&&typeof P<"u"&&"env"in P&&(i=r.DEBUG),i}function l(){try{return localStorage}catch{}}a.exports=z(u);const{formatters:p}=a.exports;p.j=function(i){try{return JSON.stringify(i)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})(A,A.exports);var J=A.exports,x={};Object.defineProperty(x,"__esModule",{value:!0});function U(a){return function(u,r){return new Promise((o,f)=>{a.call(this,u,r,(n,C)=>{n?f(n):o(C)})})}}x.default=U;var O=S&&S.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};const Z=N,B=O(J),G=O(x),F=B.default("agent-base");function H(a){return!!a&&typeof a.addRequest=="function"}function E(){const{stack:a}=new Error;return typeof a!="string"?!1:a.split(`
`).some(u=>u.indexOf("(https.js:")!==-1||u.indexOf("node:https:")!==-1)}function w(a,u){return new w.Agent(a,u)}(function(a){class u extends Z.EventEmitter{constructor(o,f){super();let n=f;typeof o=="function"?this.callback=o:o&&(n=o),this.timeout=null,n&&typeof n.timeout=="number"&&(this.timeout=n.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:E()?443:80}set defaultPort(o){this.explicitDefaultPort=o}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:E()?"https:":"http:"}set protocol(o){this.explicitProtocol=o}callback(o,f,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(o,f){const n=Object.assign({},f);typeof n.secureEndpoint!="boolean"&&(n.secureEndpoint=E()),n.host==null&&(n.host="localhost"),n.port==null&&(n.port=n.secureEndpoint?443:80),n.protocol==null&&(n.protocol=n.secureEndpoint?"https:":"http:"),n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,o._last=!0,o.shouldKeepAlive=!1;let C=!1,l=null;const p=n.timeout||this.timeout,i=c=>{o._hadError||(o.emit("error",c),o._hadError=!0)},e=()=>{l=null,C=!0;const c=new Error(`A "socket" was not created for HTTP request before ${p}ms`);c.code="ETIMEOUT",i(c)},t=c=>{C||(l!==null&&(clearTimeout(l),l=null),i(c))},s=c=>{if(C)return;if(l!=null&&(clearTimeout(l),l=null),H(c)){F("Callback returned another Agent instance %o",c.constructor.name),c.addRequest(o,n);return}if(c){c.once("free",()=>{this.freeSocket(c,n)}),o.onSocket(c);return}const g=new Error(`no Duplex stream was returned to agent-base for \`${o.method} ${o.path}\``);i(g)};if(typeof this.callback!="function"){i(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(F("Converting legacy callback function to promise"),this.promisifiedCallback=G.default(this.callback)):this.promisifiedCallback=this.callback),typeof p=="number"&&p>0&&(l=setTimeout(e,p)),"port"in n&&typeof n.port!="number"&&(n.port=Number(n.port));try{F("Resolving socket for %o request: %o",n.protocol,`${o.method} ${o.path}`),Promise.resolve(this.promisifiedCallback(o,n)).then(s,t)}catch(c){Promise.reject(c).catch(t)}}freeSocket(o,f){F("Freeing socket %o %o",o.constructor.name,f),o.destroy()}destroy(){F("Destroying agent %o",this.constructor.name)}}a.Agent=u,a.prototype=a.Agent.prototype})(w||(w={}));var X=w;export{J as b,V as r,X as s};
