import{aZ as U,a_ as Oe,aY as _r,aX as wr}from"./index-C0B7FSMw.js";import{z as G}from"./__vite-browser-external-v7f2oYTb.js";import{u as ue,S as se,f as ne,r as ft,t as ze,g as Wr,c as kr,b as lt}from"./browser-DplhMTqm.js";class He extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class ie extends He{constructor(e,t,n){super(e,t),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}}const Be=Symbol.toStringTag,zr=r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[Be]==="URLSearchParams",Ue=r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[Be]),ut=r=>typeof r=="object"&&(r[Be]==="AbortSignal"||r[Be]==="EventTarget"),ct=(r,e)=>{const t=new URL(e).hostname,n=new URL(r).hostname;return t===n||t.endsWith(`.${n}`)},ht=(r,e)=>{const t=new URL(e).protocol,n=new URL(r).protocol;return t===n},pt=ue.promisify(se.pipeline),K=Symbol("Body internals");class Ce{constructor(e,{size:t=0}={}){let n=null;e===null?e=null:zr(e)?e=U.from(e.toString()):Ue(e)||U.isBuffer(e)||(ue.types.isAnyArrayBuffer(e)?e=U.from(e):ArrayBuffer.isView(e)?e=U.from(e.buffer,e.byteOffset,e.byteLength):e instanceof se||(e=U.from(String(e))));let a=e;U.isBuffer(e)?a=se.Readable.from(e):Ue(e)&&(a=se.Readable.from(e.stream())),this[K]={body:e,stream:a,boundary:n,disturbed:!1,error:null},this.size=t,e instanceof se&&e.on("error",o=>{const s=o instanceof He?o:new ie(`Invalid response body while trying to fetch ${this.url}: ${o.message}`,"system",o);this[K].error=s})}get body(){return this[K].stream}get bodyUsed(){return this[K].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:n}=await Je(this);return e.slice(t,t+n)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[K].body&&this[K].body.type||"",t=await this.arrayBuffer();return new Blob([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await Je(this);return new TextDecoder().decode(e)}buffer(){return Je(this)}}Ce.prototype.buffer=ue.deprecate(Ce.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ce.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:ue.deprecate(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Je(r){if(r[K].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[K].disturbed=!0,r[K].error)throw r[K].error;const{body:e}=r;if(e===null)return U.alloc(0);if(!(e instanceof se))return U.alloc(0);const t=[];let n=0;try{for await(const a of e){if(r.size>0&&n+a.length>r.size){const o=new ie(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw e.destroy(o),o}n+=a.length,t.push(a)}}catch(a){throw a instanceof He?a:new ie(`Invalid response body while trying to fetch ${r.url}: ${a.message}`,"system",a)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return t.every(a=>typeof a=="string")?U.from(t.join("")):U.concat(t,n)}catch(a){throw new ie(`Could not create Buffer from response body for ${r.url}: ${a.message}`,"system",a)}else throw new ie(`Premature close of server response while trying to fetch ${r.url}`)}const dr=(r,e)=>{let t,n,{body:a}=r[K];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof se&&typeof a.getBoundary!="function"&&(t=new ne.PassThrough({highWaterMark:e}),n=new ne.PassThrough({highWaterMark:e}),a.pipe(t),a.pipe(n),r[K].stream=t,a=n),a},dt=ue.deprecate(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Hr=(r,e)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":zr(r)?"application/x-www-form-urlencoded;charset=UTF-8":Ue(r)?r.type||null:U.isBuffer(r)||ue.types.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${dt(r)}`:r instanceof se?null:"text/plain;charset=UTF-8",yt=r=>{const{body:e}=r[K];return e===null?0:Ue(e)?e.size:U.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},mt=async(r,{body:e})=>{e===null?r.end():await pt(e,r)},Me=typeof G.validateHeaderName=="function"?G.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){const e=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},ar=typeof G.validateHeaderValue=="function"?G.validateHeaderValue:(r,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){const t=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class ce extends URLSearchParams{constructor(e){let t=[];if(e instanceof ce){const n=e.raw();for(const[a,o]of Object.entries(n))t.push(...o.map(s=>[a,s]))}else if(e!=null)if(typeof e=="object"&&!ue.types.isBoxedPrimitive(e)){const n=e[Symbol.iterator];if(n==null)t.push(...Object.entries(e));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");t=[...e].map(a=>{if(typeof a!="object"||ue.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return t=t.length>0?t.map(([n,a])=>(Me(n),ar(n,String(a)),[String(n).toLowerCase(),String(a)])):void 0,super(t),new Proxy(this,{get(n,a,o){switch(a){case"append":case"set":return(s,i)=>(Me(s),ar(s,String(i)),URLSearchParams.prototype[a].call(n,String(s).toLowerCase(),String(i)));case"delete":case"has":case"getAll":return s=>(Me(s),URLSearchParams.prototype[a].call(n,String(s).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,a,o)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(t.length===0)return null;let n=t.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,t=void 0){for(const n of this.keys())Reflect.apply(e,t,[this.get(n),n,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{const n=this.getAll(t);return t==="host"?e[t]=n[0]:e[t]=n.length>1?n:n[0],e},{})}}Object.defineProperties(ce.prototype,["get","entries","forEach","values"].reduce((r,e)=>(r[e]={enumerable:!0},r),{}));function gt(r=[]){return new ce(r.reduce((e,t,n,a)=>(n%2===0&&e.push(a.slice(n,n+2)),e),[]).filter(([e,t])=>{try{return Me(e),ar(e,String(t)),!0}catch{return!1}}))}const vt=new Set([301,302,303,307,308]),qr=r=>vt.has(r),j=Symbol("Response internals");class Q extends Ce{constructor(e=null,t={}){super(e,t);const n=t.status!=null?t.status:200,a=new ce(t.headers);if(e!==null&&!a.has("Content-Type")){const o=Hr(e);o&&a.append("Content-Type",o)}this[j]={type:"default",url:t.url,status:n,statusText:t.statusText||"",headers:a,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[j].type}get url(){return this[j].url||""}get status(){return this[j].status}get ok(){return this[j].status>=200&&this[j].status<300}get redirected(){return this[j].counter>0}get statusText(){return this[j].statusText}get headers(){return this[j].headers}get highWaterMark(){return this[j].highWaterMark}clone(){return new Q(dr(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!qr(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new Q(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new Q(null,{status:0,statusText:""});return e[j].type="error",e}static json(e=void 0,t={}){const n=JSON.stringify(e);if(n===void 0)throw new TypeError("data is not JSON serializable");const a=new ce(t&&t.headers);return a.has("content-type")||a.set("content-type","application/json"),new Q(n,{...t,headers:a})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(Q.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var _e={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */_e.exports;(function(r,e){(function(t){var n=e&&!e.nodeType&&e,a=!r.nodeType&&r,o=typeof Oe=="object"&&Oe;(o.global===o||o.window===o||o.self===o)&&(t=o);var s,i=2147483647,l=36,f=1,c=26,b=38,u=700,m=72,h=128,T="-",g=/^xn--/,O=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=l-f,v=Math.floor,x=String.fromCharCode,D;function $(d){throw new RangeError(y[d])}function C(d,w){for(var E=d.length,R=[];E--;)R[E]=w(d[E]);return R}function F(d,w){var E=d.split("@"),R="";E.length>1&&(R=E[0]+"@",d=E[1]),d=d.replace(p,".");var P=d.split("."),z=C(P,w).join(".");return R+z}function J(d){for(var w=[],E=0,R=d.length,P,z;E<R;)P=d.charCodeAt(E++),P>=55296&&P<=56319&&E<R?(z=d.charCodeAt(E++),(z&64512)==56320?w.push(((P&1023)<<10)+(z&1023)+65536):(w.push(P),E--)):w.push(P);return w}function Z(d){return C(d,function(w){var E="";return w>65535&&(w-=65536,E+=x(w>>>10&1023|55296),w=56320|w&1023),E+=x(w),E}).join("")}function L(d){return d-48<10?d-22:d-65<26?d-65:d-97<26?d-97:l}function W(d,w){return d+22+75*(d<26)-((w!=0)<<5)}function k(d,w,E){var R=0;for(d=E?v(d/u):d>>1,d+=v(d/w);d>S*c>>1;R+=l)d=v(d/S);return v(R+(S+1)*d/(d+b))}function H(d){var w=[],E=d.length,R,P=0,z=h,N=m,q,Y,re,fe,B,V,X,pe,me;for(q=d.lastIndexOf(T),q<0&&(q=0),Y=0;Y<q;++Y)d.charCodeAt(Y)>=128&&$("not-basic"),w.push(d.charCodeAt(Y));for(re=q>0?q+1:0;re<E;){for(fe=P,B=1,V=l;re>=E&&$("invalid-input"),X=L(d.charCodeAt(re++)),(X>=l||X>v((i-P)/B))&&$("overflow"),P+=X*B,pe=V<=N?f:V>=N+c?c:V-N,!(X<pe);V+=l)me=l-pe,B>v(i/me)&&$("overflow"),B*=me;R=w.length+1,N=k(P-fe,R,fe==0),v(P/R)>i-z&&$("overflow"),z+=v(P/R),P%=R,w.splice(P++,0,z)}return Z(w)}function he(d){var w,E,R,P,z,N,q,Y,re,fe,B,V=[],X,pe,me,Qe;for(d=J(d),X=d.length,w=h,E=0,z=m,N=0;N<X;++N)B=d[N],B<128&&V.push(x(B));for(R=P=V.length,P&&V.push(T);R<X;){for(q=i,N=0;N<X;++N)B=d[N],B>=w&&B<q&&(q=B);for(pe=R+1,q-w>v((i-E)/pe)&&$("overflow"),E+=(q-w)*pe,w=q,N=0;N<X;++N)if(B=d[N],B<w&&++E>i&&$("overflow"),B==w){for(Y=E,re=l;fe=re<=z?f:re>=z+c?c:re-z,!(Y<fe);re+=l)Qe=Y-fe,me=l-fe,V.push(x(W(fe+Qe%me,0))),Y=v(Qe/me);V.push(x(W(Y,0))),z=k(E,pe,R==P),E=0,++R}++E,++w}return V.join("")}function Ge(d){return F(d,function(w){return g.test(w)?H(w.slice(4).toLowerCase()):w})}function Ie(d){return F(d,function(w){return O.test(w)?"xn--"+he(w):w})}if(s={version:"1.4.1",ucs2:{decode:J,encode:Z},decode:H,encode:he,toASCII:Ie,toUnicode:Ge},n&&a)if(r.exports==n)a.exports=s;else for(D in s)s.hasOwnProperty(D)&&(n[D]=s[D]);else t.punycode=s})(Oe)})(_e,_e.exports);var wt=_e.exports;const bt=_r(wt);var yr=typeof Map=="function"&&Map.prototype,Ze=Object.getOwnPropertyDescriptor&&yr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,We=yr&&Ze&&typeof Ze.get=="function"?Ze.get:null,br=yr&&Map.prototype.forEach,mr=typeof Set=="function"&&Set.prototype,Ye=Object.getOwnPropertyDescriptor&&mr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ke=mr&&Ye&&typeof Ye.get=="function"?Ye.get:null,Sr=mr&&Set.prototype.forEach,St=typeof WeakMap=="function"&&WeakMap.prototype,$e=St?WeakMap.prototype.has:null,xt=typeof WeakSet=="function"&&WeakSet.prototype,Re=xt?WeakSet.prototype.has:null,Et=typeof WeakRef=="function"&&WeakRef.prototype,xr=Et?WeakRef.prototype.deref:null,Tt=Boolean.prototype.valueOf,Ot=Object.prototype.toString,$t=Function.prototype.toString,Rt=String.prototype.match,gr=String.prototype.slice,de=String.prototype.replace,At=String.prototype.toUpperCase,Er=String.prototype.toLowerCase,Kr=RegExp.prototype.test,Tr=Array.prototype.concat,oe=Array.prototype.join,Ct=Array.prototype.slice,Or=Math.floor,or=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Xe=Object.getOwnPropertySymbols,ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Se=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Se||!0)?Symbol.toStringTag:null,Vr=Object.prototype.propertyIsEnumerable,$r=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Rr(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Kr.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-Or(-r):Or(r);if(n!==r){var a=String(n),o=gr.call(e,a.length+1);return de.call(a,t,"$&_")+"."+de.call(de.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(e,t,"$&_")}var sr=ft,Ar=sr.custom,Cr=Jr(Ar)?Ar:null,Gr={__proto__:null,double:'"',single:"'"},Pt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},qe=function r(e,t,n,a){var o=t||{};if(le(o,"quoteStyle")&&!le(Gr,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(le(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=le(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(le(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(le(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var i=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Yr(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return i?Rr(e,l):l}if(typeof e=="bigint"){var f=String(e)+"n";return i?Rr(e,f):f}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return fr(e)?"[Array]":"[Object]";var b=Qt(o,n);if(typeof a>"u")a=[];else if(Zr(a,e)>=0)return"[Circular]";function u(L,W,k){if(W&&(a=Ct.call(a),a.push(W)),k){var H={depth:o.depth};return le(o,"quoteStyle")&&(H.quoteStyle=o.quoteStyle),r(L,H,n+1,a)}return r(L,o,n+1,a)}if(typeof e=="function"&&!Pr(e)){var m=_t(e),h=De(e,u);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(h.length>0?" { "+oe.call(h,", ")+" }":"")}if(Jr(e)){var T=Se?de.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ir.call(e);return typeof e=="object"&&!Se?Ee(T):T}if(Kt(e)){for(var g="<"+Er.call(String(e.nodeName)),O=e.attributes||[],p=0;p<O.length;p++)g+=" "+O[p].name+"="+Qr(Lt(O[p].value),"double",o);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+Er.call(String(e.nodeName))+">",g}if(fr(e)){if(e.length===0)return"[]";var y=De(e,u);return b&&!Gt(y)?"["+lr(y,b)+"]":"[ "+oe.call(y,", ")+" ]"}if(Dt(e)){var S=De(e,u);return!("cause"in Error.prototype)&&"cause"in e&&!Vr.call(e,"cause")?"{ ["+String(e)+"] "+oe.call(Tr.call("[cause]: "+u(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+oe.call(S,", ")+" }"}if(typeof e=="object"&&s){if(Cr&&typeof e[Cr]=="function"&&sr)return sr(e,{depth:c-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Wt(e)){var v=[];return br&&br.call(e,function(L,W){v.push(u(W,e,!0)+" => "+u(L,e))}),Lr("Map",We.call(e),v,b)}if(Ht(e)){var x=[];return Sr&&Sr.call(e,function(L){x.push(u(L,e))}),Lr("Set",ke.call(e),x,b)}if(kt(e))return je("WeakMap");if(qt(e))return je("WeakSet");if(zt(e))return je("WeakRef");if(Mt(e))return Ee(u(Number(e)));if(Bt(e))return Ee(u(or.call(e)));if(Nt(e))return Ee(Tt.call(e));if(Ft(e))return Ee(u(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Oe<"u"&&e===Oe)return"{ [object globalThis] }";if(!It(e)&&!Pr(e)){var D=De(e,u),$=$r?$r(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",F=!$&&_&&Object(e)===e&&_ in e?gr.call(ye(e),8,-1):C?"Object":"",J=$||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Z=J+(F||C?"["+oe.call(Tr.call([],F||[],C||[]),": ")+"] ":"");return D.length===0?Z+"{}":b?Z+"{"+lr(D,b)+"}":Z+"{ "+oe.call(D,", ")+" }"}return String(e)};function Qr(r,e,t){var n=t.quoteStyle||e,a=Gr[n];return a+r+a}function Lt(r){return de.call(String(r),/"/g,"&quot;")}function fr(r){return ye(r)==="[object Array]"&&(!_||!(typeof r=="object"&&_ in r))}function It(r){return ye(r)==="[object Date]"&&(!_||!(typeof r=="object"&&_ in r))}function Pr(r){return ye(r)==="[object RegExp]"&&(!_||!(typeof r=="object"&&_ in r))}function Dt(r){return ye(r)==="[object Error]"&&(!_||!(typeof r=="object"&&_ in r))}function Ft(r){return ye(r)==="[object String]"&&(!_||!(typeof r=="object"&&_ in r))}function Mt(r){return ye(r)==="[object Number]"&&(!_||!(typeof r=="object"&&_ in r))}function Nt(r){return ye(r)==="[object Boolean]"&&(!_||!(typeof r=="object"&&_ in r))}function Jr(r){if(Se)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!ir)return!1;try{return ir.call(r),!0}catch{}return!1}function Bt(r){if(!r||typeof r!="object"||!or)return!1;try{return or.call(r),!0}catch{}return!1}var Ut=Object.prototype.hasOwnProperty||function(r){return r in this};function le(r,e){return Ut.call(r,e)}function ye(r){return Ot.call(r)}function _t(r){if(r.name)return r.name;var e=Rt.call($t.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Zr(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function Wt(r){if(!We||!r||typeof r!="object")return!1;try{We.call(r);try{ke.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function kt(r){if(!$e||!r||typeof r!="object")return!1;try{$e.call(r,$e);try{Re.call(r,Re)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function zt(r){if(!xr||!r||typeof r!="object")return!1;try{return xr.call(r),!0}catch{}return!1}function Ht(r){if(!ke||!r||typeof r!="object")return!1;try{ke.call(r);try{We.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function qt(r){if(!Re||!r||typeof r!="object")return!1;try{Re.call(r,Re);try{$e.call(r,$e)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function Kt(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Yr(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Yr(gr.call(r,0,e.maxStringLength),e)+n}var a=Pt[e.quoteStyle||"single"];a.lastIndex=0;var o=de.call(de.call(r,a,"\\$1"),/[\x00-\x1f]/g,Vt);return Qr(o,"single",e)}function Vt(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+At.call(e.toString(16))}function Ee(r){return"Object("+r+")"}function je(r){return r+" { ? }"}function Lr(r,e,t,n){var a=n?lr(t,n):oe.call(t,", ");return r+" ("+e+") {"+a+"}"}function Gt(r){for(var e=0;e<r.length;e++)if(Zr(r[e],`
`)>=0)return!1;return!0}function Qt(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=oe.call(Array(r.indent+1)," ");else return null;return{base:t,prev:oe.call(Array(e+1),t)}}function lr(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+oe.call(r,","+t)+`
`+e.prev}function De(r,e){var t=fr(r),n=[];if(t){n.length=r.length;for(var a=0;a<r.length;a++)n[a]=le(r,a)?e(r[a],r):""}var o=typeof Xe=="function"?Xe(r):[],s;if(Se){s={};for(var i=0;i<o.length;i++)s["$"+o[i]]=o[i]}for(var l in r)le(r,l)&&(t&&String(Number(l))===l&&l<r.length||Se&&s["$"+l]instanceof Symbol||(Kr.call(/[^\w$]/,l)?n.push(e(l,r)+": "+e(r[l],r)):n.push(l+": "+e(r[l],r))));if(typeof Xe=="function")for(var f=0;f<o.length;f++)Vr.call(r,o[f])&&n.push("["+e(o[f])+"]: "+e(r[o[f]],r));return n}var Jt=qe,Zt=ze,Ke=function(r,e,t){for(var n=r,a;(a=n.next)!=null;n=a)if(a.key===e)return n.next=a.next,t||(a.next=r.next,r.next=a),a},Yt=function(r,e){if(r){var t=Ke(r,e);return t&&t.value}},Xt=function(r,e,t){var n=Ke(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},jt=function(r,e){return r?!!Ke(r,e):!1},en=function(r,e){if(r)return Ke(r,e,!0)},rn=function(){var e,t={assert:function(n){if(!t.has(n))throw new Zt("Side channel does not contain "+Jt(n))},delete:function(n){var a=e&&e.next,o=en(e,n);return o&&a&&a===o&&(e=void 0),!!o},get:function(n){return Yt(e,n)},has:function(n){return jt(e,n)},set:function(n,a){e||(e={next:void 0}),Xt(e,n,a)}};return t},tn=Wr,Le=kr,nn=qe,an=ze,Ir=tn("%Map%",!0),on=Le("Map.prototype.get",!0),sn=Le("Map.prototype.set",!0),fn=Le("Map.prototype.has",!0),ln=Le("Map.prototype.delete",!0),un=Le("Map.prototype.size",!0),Xr=!!Ir&&function(){var e,t={assert:function(n){if(!t.has(n))throw new an("Side channel does not contain "+nn(n))},delete:function(n){if(e){var a=ln(e,n);return un(e)===0&&(e=void 0),a}return!1},get:function(n){if(e)return on(e,n)},has:function(n){return e?fn(e,n):!1},set:function(n,a){e||(e=new Ir),sn(e,n,a)}};return t},cn=Wr,Ve=kr,hn=qe,Fe=Xr,pn=ze,ve=cn("%WeakMap%",!0),dn=Ve("WeakMap.prototype.get",!0),yn=Ve("WeakMap.prototype.set",!0),mn=Ve("WeakMap.prototype.has",!0),gn=Ve("WeakMap.prototype.delete",!0),vn=ve?function(){var e,t,n={assert:function(a){if(!n.has(a))throw new pn("Side channel does not contain "+hn(a))},delete:function(a){if(ve&&a&&(typeof a=="object"||typeof a=="function")){if(e)return gn(e,a)}else if(Fe&&t)return t.delete(a);return!1},get:function(a){return ve&&a&&(typeof a=="object"||typeof a=="function")&&e?dn(e,a):t&&t.get(a)},has:function(a){return ve&&a&&(typeof a=="object"||typeof a=="function")&&e?mn(e,a):!!t&&t.has(a)},set:function(a,o){ve&&a&&(typeof a=="object"||typeof a=="function")?(e||(e=new ve),yn(e,a,o)):Fe&&(t||(t=Fe()),t.set(a,o))}};return n}:Fe,wn=ze,bn=qe,Sn=rn,xn=Xr,En=vn,Tn=En||xn||Sn,On=function(){var e,t={assert:function(n){if(!t.has(n))throw new wn("Side channel does not contain "+bn(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,a){e||(e=Tn()),e.set(n,a)}};return t},$n=String.prototype.replace,Rn=/%20/g,er={RFC1738:"RFC1738",RFC3986:"RFC3986"},vr={default:er.RFC3986,formatters:{RFC1738:function(r){return $n.call(r,Rn,"+")},RFC3986:function(r){return String(r)}},RFC1738:er.RFC1738,RFC3986:er.RFC3986},An=vr,rr=Object.prototype.hasOwnProperty,ge=Array.isArray,te=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),Cn=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(ge(n)){for(var a=[],o=0;o<n.length;++o)typeof n[o]<"u"&&a.push(n[o]);t.obj[t.prop]=a}}},jr=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},Pn=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(ge(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!rr.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var a=e;return ge(e)&&!ge(t)&&(a=jr(e,n)),ge(e)&&ge(t)?(t.forEach(function(o,s){if(rr.call(e,s)){var i=e[s];i&&typeof i=="object"&&o&&typeof o=="object"?e[s]=r(i,o,n):e.push(o)}else e[s]=o}),e):Object.keys(t).reduce(function(o,s){var i=t[s];return rr.call(o,s)?o[s]=r(o[s],i,n):o[s]=i,o},a)},Ln=function(e,t){return Object.keys(t).reduce(function(n,a){return n[a]=t[a],n},e)},In=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},tr=1024,Dn=function(e,t,n,a,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var i="",l=0;l<s.length;l+=tr){for(var f=s.length>=tr?s.slice(l,l+tr):s,c=[],b=0;b<f.length;++b){var u=f.charCodeAt(b);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===An.RFC1738&&(u===40||u===41)){c[c.length]=f.charAt(b);continue}if(u<128){c[c.length]=te[u];continue}if(u<2048){c[c.length]=te[192|u>>6]+te[128|u&63];continue}if(u<55296||u>=57344){c[c.length]=te[224|u>>12]+te[128|u>>6&63]+te[128|u&63];continue}b+=1,u=65536+((u&1023)<<10|f.charCodeAt(b)&1023),c[c.length]=te[240|u>>18]+te[128|u>>12&63]+te[128|u>>6&63]+te[128|u&63]}i+=c.join("")}return i},Fn=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],a=0;a<t.length;++a)for(var o=t[a],s=o.obj[o.prop],i=Object.keys(s),l=0;l<i.length;++l){var f=i[l],c=s[f];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(t.push({obj:s,prop:f}),n.push(c))}return Cn(t),e},Mn=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Nn=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Bn=function(e,t){return[].concat(e,t)},Un=function(e,t){if(ge(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(t(e[a]));return n}return t(e)},et={arrayToObject:jr,assign:Ln,combine:Bn,compact:Fn,decode:In,encode:Dn,isBuffer:Nn,isRegExp:Mn,maybeMap:Un,merge:Pn},rt=On,Ne=et,Ae=vr,_n=Object.prototype.hasOwnProperty,tt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ae=Array.isArray,Wn=Array.prototype.push,nt=function(r,e){Wn.apply(r,ae(e)?e:[e])},kn=Date.prototype.toISOString,Dr=Ae.default,I={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ne.encode,encodeValuesOnly:!1,format:Dr,formatter:Ae.formatters[Dr],indices:!1,serializeDate:function(e){return kn.call(e)},skipNulls:!1,strictNullHandling:!1},zn=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},nr={},Hn=function r(e,t,n,a,o,s,i,l,f,c,b,u,m,h,T,g,O,p){for(var y=e,S=p,v=0,x=!1;(S=S.get(nr))!==void 0&&!x;){var D=S.get(e);if(v+=1,typeof D<"u"){if(D===v)throw new RangeError("Cyclic object value");x=!0}typeof S.get(nr)>"u"&&(v=0)}if(typeof c=="function"?y=c(t,y):y instanceof Date?y=m(y):n==="comma"&&ae(y)&&(y=Ne.maybeMap(y,function(d){return d instanceof Date?m(d):d})),y===null){if(s)return f&&!g?f(t,I.encoder,O,"key",h):t;y=""}if(zn(y)||Ne.isBuffer(y)){if(f){var $=g?t:f(t,I.encoder,O,"key",h);return[T($)+"="+T(f(y,I.encoder,O,"value",h))]}return[T(t)+"="+T(String(y))]}var C=[];if(typeof y>"u")return C;var F;if(n==="comma"&&ae(y))g&&f&&(y=Ne.maybeMap(y,f)),F=[{value:y.length>0?y.join(",")||null:void 0}];else if(ae(c))F=c;else{var J=Object.keys(y);F=b?J.sort(b):J}var Z=l?t.replace(/\./g,"%2E"):t,L=a&&ae(y)&&y.length===1?Z+"[]":Z;if(o&&ae(y)&&y.length===0)return L+"[]";for(var W=0;W<F.length;++W){var k=F[W],H=typeof k=="object"&&typeof k.value<"u"?k.value:y[k];if(!(i&&H===null)){var he=u&&l?k.replace(/\./g,"%2E"):k,Ge=ae(y)?typeof n=="function"?n(L,he):L:L+(u?"."+he:"["+he+"]");p.set(e,v);var Ie=rt();Ie.set(nr,p),nt(C,r(H,Ge,n,a,o,s,i,l,n==="comma"&&g&&ae(y)?null:f,c,b,u,m,h,T,g,O,Ie))}}return C},qn=function(e){if(!e)return I;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||I.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ae.default;if(typeof e.format<"u"){if(!_n.call(Ae.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=Ae.formatters[n],o=I.filter;(typeof e.filter=="function"||ae(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in tt?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=I.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var i=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:I.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:I.addQueryPrefix,allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:I.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:I.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?I.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:I.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:I.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:I.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:I.encodeValuesOnly,filter:o,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:I.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:I.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:I.strictNullHandling}},Kn=function(r,e){var t=r,n=qn(e),a,o;typeof n.filter=="function"?(o=n.filter,t=o("",t)):ae(n.filter)&&(o=n.filter,a=o);var s=[];if(typeof t!="object"||t===null)return"";var i=tt[n.arrayFormat],l=i==="comma"&&n.commaRoundTrip;a||(a=Object.keys(t)),n.sort&&a.sort(n.sort);for(var f=rt(),c=0;c<a.length;++c){var b=a[c];n.skipNulls&&t[b]===null||nt(s,Hn(t[b],b,i,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var u=s.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),u.length>0?m+u:""},xe=et,ur=Object.prototype.hasOwnProperty,Vn=Array.isArray,A={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:xe.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Gn=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},at=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},Qn="utf8=%26%2310003%3B",Jn="utf8=%E2%9C%93",Zn=function(e,t){var n={__proto__:null},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=a.split(t.delimiter,o),i=-1,l,f=t.charset;if(t.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===Jn?f="utf-8":s[l]===Qn&&(f="iso-8859-1"),i=l,l=s.length);for(l=0;l<s.length;++l)if(l!==i){var c=s[l],b=c.indexOf("]="),u=b===-1?c.indexOf("="):b+1,m,h;u===-1?(m=t.decoder(c,A.decoder,f,"key"),h=t.strictNullHandling?null:""):(m=t.decoder(c.slice(0,u),A.decoder,f,"key"),h=xe.maybeMap(at(c.slice(u+1),t),function(g){return t.decoder(g,A.decoder,f,"value")})),h&&t.interpretNumericEntities&&f==="iso-8859-1"&&(h=Gn(h)),c.indexOf("[]=")>-1&&(h=Vn(h)?[h]:h);var T=ur.call(n,m);T&&t.duplicates==="combine"?n[m]=xe.combine(n[m],h):(!T||t.duplicates==="last")&&(n[m]=h)}return n},Yn=function(r,e,t,n){for(var a=n?e:at(e,t),o=r.length-1;o>=0;--o){var s,i=r[o];if(i==="[]"&&t.parseArrays)s=t.allowEmptyArrays&&(a===""||t.strictNullHandling&&a===null)?[]:[].concat(a);else{s=t.plainObjects?Object.create(null):{};var l=i.charAt(0)==="["&&i.charAt(i.length-1)==="]"?i.slice(1,-1):i,f=t.decodeDotInKeys?l.replace(/%2E/g,"."):l,c=parseInt(f,10);!t.parseArrays&&f===""?s={0:a}:!isNaN(c)&&i!==f&&String(c)===f&&c>=0&&t.parseArrays&&c<=t.arrayLimit?(s=[],s[c]=a):f!=="__proto__"&&(s[f]=a)}a=s}return a},Xn=function(e,t,n,a){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(o),f=l?o.slice(0,l.index):o,c=[];if(f){if(!n.plainObjects&&ur.call(Object.prototype,f)&&!n.allowPrototypes)return;c.push(f)}for(var b=0;n.depth>0&&(l=i.exec(o))!==null&&b<n.depth;){if(b+=1,!n.plainObjects&&ur.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+o.slice(l.index)+"]")}return Yn(c,t,n,a)}},jn=function(e){if(!e)return A;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?A.charset:e.charset,n=typeof e.duplicates>"u"?A.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:A.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:A.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:A.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:A.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:A.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:A.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:A.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:A.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:A.decoder,delimiter:typeof e.delimiter=="string"||xe.isRegExp(e.delimiter)?e.delimiter:A.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:A.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:A.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:A.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:A.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:A.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:A.strictNullHandling}},ea=function(r,e){var t=jn(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?Zn(r,t):r,a=t.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var i=o[s],l=Xn(i,n[i],t,typeof r=="string");a=xe.merge(a,l,t)}return t.allowSparse===!0?a:xe.compact(a)},ra=Kn,ta=ea,na=vr,aa={formats:na,parse:ta,stringify:ra};const oa=_r(aa);var ia=bt;function ee(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var sa=/^([a-z0-9.+-]+:)/i,fa=/:[0-9]*$/,la=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,ua=["<",">",'"',"`"," ","\r",`
`,"	"],ca=["{","}","|","\\","^","`"].concat(ua),cr=["'"].concat(ca),Fr=["%","/","?",";","#"].concat(cr),Mr=["/","?","#"],ha=255,Nr=/^[+a-z0-9A-Z_-]{0,63}$/,pa=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,da={javascript:!0,"javascript:":!0},hr={javascript:!0,"javascript:":!0},be={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},pr=oa;function ot(r,e,t){if(r&&typeof r=="object"&&r instanceof ee)return r;var n=new ee;return n.parse(r,e,t),n}ee.prototype.parse=function(r,e,t){if(typeof r!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var n=r.indexOf("?"),a=n!==-1&&n<r.indexOf("#")?"?":"#",o=r.split(a),s=/\\/g;o[0]=o[0].replace(s,"/"),r=o.join(a);var i=r;if(i=i.trim(),!t&&r.split("#").length===1){var l=la.exec(i);if(l)return this.path=i,this.href=i,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=pr.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=sa.exec(i);if(f){f=f[0];var c=f.toLowerCase();this.protocol=c,i=i.substr(f.length)}if(t||f||i.match(/^\/\/[^@/]+@[^@/]+/)){var b=i.substr(0,2)==="//";b&&!(f&&hr[f])&&(i=i.substr(2),this.slashes=!0)}if(!hr[f]&&(b||f&&!be[f])){for(var u=-1,m=0;m<Mr.length;m++){var h=i.indexOf(Mr[m]);h!==-1&&(u===-1||h<u)&&(u=h)}var T,g;u===-1?g=i.lastIndexOf("@"):g=i.lastIndexOf("@",u),g!==-1&&(T=i.slice(0,g),i=i.slice(g+1),this.auth=decodeURIComponent(T)),u=-1;for(var m=0;m<Fr.length;m++){var h=i.indexOf(Fr[m]);h!==-1&&(u===-1||h<u)&&(u=h)}u===-1&&(u=i.length),this.host=i.slice(0,u),i=i.slice(u),this.parseHost(),this.hostname=this.hostname||"";var O=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!O)for(var p=this.hostname.split(/\./),m=0,y=p.length;m<y;m++){var S=p[m];if(S&&!S.match(Nr)){for(var v="",x=0,D=S.length;x<D;x++)S.charCodeAt(x)>127?v+="x":v+=S[x];if(!v.match(Nr)){var $=p.slice(0,m),C=p.slice(m+1),F=S.match(pa);F&&($.push(F[1]),C.unshift(F[2])),C.length&&(i="/"+C.join(".")+i),this.hostname=$.join(".");break}}}this.hostname.length>ha?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=ia.toASCII(this.hostname));var J=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+J,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),i[0]!=="/"&&(i="/"+i))}if(!da[c])for(var m=0,y=cr.length;m<y;m++){var L=cr[m];if(i.indexOf(L)!==-1){var W=encodeURIComponent(L);W===L&&(W=escape(L)),i=i.split(L).join(W)}}var k=i.indexOf("#");k!==-1&&(this.hash=i.substr(k),i=i.slice(0,k));var H=i.indexOf("?");if(H!==-1?(this.search=i.substr(H),this.query=i.substr(H+1),e&&(this.query=pr.parse(this.query)),i=i.slice(0,H)):e&&(this.search="",this.query={}),i&&(this.pathname=i),be[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",he=this.search||"";this.path=J+he}return this.href=this.format(),this};function ya(r){return typeof r=="string"&&(r=ot(r)),r instanceof ee?r.format():ee.prototype.format.call(r)}ee.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=r+this.host:this.hostname&&(a=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=pr.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||be[e])&&a!==!1?(a="//"+(a||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):a||(a=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t=t.replace(/[?#]/g,function(i){return encodeURIComponent(i)}),s=s.replace("#","%23"),e+a+t+s+n};ee.prototype.resolve=function(r){return this.resolveObject(ot(r,!1,!0)).format()};ee.prototype.resolveObject=function(r){if(typeof r=="string"){var e=new ee;e.parse(r,!1,!0),r=e}for(var t=new ee,n=Object.keys(this),a=0;a<n.length;a++){var o=n[a];t[o]=this[o]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var s=Object.keys(r),i=0;i<s.length;i++){var l=s[i];l!=="protocol"&&(t[l]=r[l])}return be[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!be[r.protocol]){for(var f=Object.keys(r),c=0;c<f.length;c++){var b=f[c];t[b]=r[b]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!hr[r.protocol]){for(var y=(r.pathname||"").split("/");y.length&&!(r.host=y.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),t.pathname=y.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var u=t.pathname||"",m=t.search||"";t.path=u+m}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var h=t.pathname&&t.pathname.charAt(0)==="/",T=r.host||r.pathname&&r.pathname.charAt(0)==="/",g=T||h||t.host&&r.pathname,O=g,p=t.pathname&&t.pathname.split("/")||[],y=r.pathname&&r.pathname.split("/")||[],S=t.protocol&&!be[t.protocol];if(S&&(t.hostname="",t.port=null,t.host&&(p[0]===""?p[0]=t.host:p.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host=null),g=g&&(y[0]===""||p[0]==="")),T)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,p=y;else if(y.length)p||(p=[]),p.pop(),p=p.concat(y),t.search=r.search,t.query=r.query;else if(r.search!=null){if(S){t.host=p.shift(),t.hostname=t.host;var v=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;v&&(t.auth=v.shift(),t.hostname=v.shift(),t.host=t.hostname)}return t.search=r.search,t.query=r.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!p.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var x=p.slice(-1)[0],D=(t.host||r.host||p.length>1)&&(x==="."||x==="..")||x==="",$=0,C=p.length;C>=0;C--)x=p[C],x==="."?p.splice(C,1):x===".."?(p.splice(C,1),$++):$&&(p.splice(C,1),$--);if(!g&&!O)for(;$--;$)p.unshift("..");g&&p[0]!==""&&(!p[0]||p[0].charAt(0)!=="/")&&p.unshift(""),D&&p.join("/").substr(-1)!=="/"&&p.push("");var F=p[0]===""||p[0]&&p[0].charAt(0)==="/";if(S){t.hostname=F?"":p.length?p.shift():"",t.host=t.hostname;var v=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;v&&(t.auth=v.shift(),t.hostname=v.shift(),t.host=t.hostname)}return g=g||t.host&&p.length,g&&!F&&p.unshift(""),p.length>0?t.pathname=p.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};ee.prototype.parseHost=function(){var r=this.host,e=fa.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};var ma=ya,it=function(r){function e(){var n=this||self;return delete r.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();r.defineProperty(r.prototype,"__magic__",{configurable:!0,get:e});var t=__magic__;return t}(Object),ga=ma,Br=it.URL;it.URLSearchParams;var va=function(e,t){var n,a,o,s;if(t===void 0&&(t={}),!(e instanceof Br))return ga(e);if(typeof t!="object"||t===null)throw new TypeError('The "options" argument must be of type object.');var i=(n=t.auth)!=null?n:!0,l=(a=t.fragment)!=null?a:!0,f=(o=t.search)!=null?o:!0;(s=t.unicode)!=null;var c=new Br(e.toString());return i||(c.username="",c.password=""),l||(c.hash=""),f||(c.search=""),c.toString()};const wa=r=>{if(r.search)return r.search;const e=r.href.length-1,t=r.hash||(r.href[e]==="#"?"#":"");return r.href[e-t.length]==="?"?"?":""};function Ur(r,e=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",e&&(r.pathname="",r.search=""),r)}const st=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),ba="strict-origin-when-cross-origin";function Sa(r){if(!st.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function xa(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;const e=r.host.replace(/(^\[)|(]$)/g,""),t=lt.isIP(e);return t===4&&/^127\./.test(e)||t===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:r.host==="localhost"||r.host.endsWith(".localhost")?!1:r.protocol==="file:"}function we(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:xa(r)}function Ea(r,{referrerURLCallback:e,referrerOriginCallback:t}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;const n=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";const a=r.referrer;let o=Ur(a),s=Ur(a,!0);o.toString().length>4096&&(o=s),e&&(o=e(o)),t&&(s=t(s));const i=new URL(r.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return o;case"strict-origin":return we(o)&&!we(i)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return o.origin===i.origin?o:we(o)&&!we(i)?"no-referrer":s;case"same-origin":return o.origin===i.origin?o:"no-referrer";case"origin-when-cross-origin":return o.origin===i.origin?o:s;case"no-referrer-when-downgrade":return we(o)&&!we(i)?"no-referrer":o;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function Ta(r){const e=(r.get("referrer-policy")||"").split(/[,\s]+/);let t="";for(const n of e)n&&st.has(n)&&(t=n);return t}const M=Symbol("Request internals"),Te=r=>typeof r=="object"&&typeof r[M]=="object",Oa=ue.deprecate(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class Pe extends Ce{constructor(e,t={}){let n;if(Te(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let a=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(a)&&(a=a.toUpperCase()),!Te(t)&&"data"in t&&Oa(),(t.body!=null||Te(e)&&e.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:Te(e)&&e.body!==null?dr(e):null;super(o,{size:t.size||e.size||0});const s=new ce(t.headers||e.headers||{});if(o!==null&&!s.has("Content-Type")){const f=Hr(o);f&&s.set("Content-Type",f)}let i=Te(e)?e.signal:null;if("signal"in t&&(i=t.signal),i!=null&&!ut(i))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let l=t.referrer==null?e.referrer:t.referrer;if(l==="")l="no-referrer";else if(l){const f=new URL(l);l=/^about:(\/\/)?client$/.test(f)?"client":f}else l=void 0;this[M]={method:a,redirect:t.redirect||e.redirect||"follow",headers:s,parsedURL:n,signal:i,referrer:l},this.follow=t.follow===void 0?e.follow===void 0?20:e.follow:t.follow,this.compress=t.compress===void 0?e.compress===void 0?!0:e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[M].method}get url(){return va(this[M].parsedURL)}get headers(){return this[M].headers}get redirect(){return this[M].redirect}get signal(){return this[M].signal}get referrer(){if(this[M].referrer==="no-referrer")return"";if(this[M].referrer==="client")return"about:client";if(this[M].referrer)return this[M].referrer.toString()}get referrerPolicy(){return this[M].referrerPolicy}set referrerPolicy(e){this[M].referrerPolicy=Sa(e)}clone(){return new Pe(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(Pe.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const $a=r=>{const{parsedURL:e}=r[M],t=new ce(r[M].headers);t.has("Accept")||t.set("Accept","*/*");let n=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(n="0"),r.body!==null){const i=yt(r);typeof i=="number"&&!Number.isNaN(i)&&(n=String(i))}n&&t.set("Content-Length",n),r.referrerPolicy===""&&(r.referrerPolicy=ba),r.referrer&&r.referrer!=="no-referrer"?r[M].referrer=Ea(r):r[M].referrer="no-referrer",r[M].referrer instanceof URL&&t.set("Referer",r.referrer),t.has("User-Agent")||t.set("User-Agent","node-fetch"),r.compress&&!t.has("Accept-Encoding")&&t.set("Accept-Encoding","gzip, deflate, br");let{agent:a}=r;typeof a=="function"&&(a=a(e)),!t.has("Connection")&&!a&&t.set("Connection","close");const o=wa(e),s={path:e.pathname+o,method:r.method,headers:t[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:a};return{parsedURL:e,options:s}};class Ra extends He{constructor(e,t="aborted"){super(e,t)}}const Aa=new Set(["data:","http:","https:"]);async function Ca(r,e){return new Promise((t,n)=>{const a=new Pe(r,e),{parsedURL:o,options:s}=$a(a);if(!Aa.has(o.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${o.protocol.replace(/:$/,"")}" is not supported.`);const i=(o.protocol==="https:"?G:G).request,{signal:l}=a;let f=null;const c=()=>{const h=new Ra("The operation was aborted.");n(h),a.body&&a.body instanceof se.Readable&&a.body.destroy(h),!(!f||!f.body)&&f.body.emit("error",h)};if(l&&l.aborted){c();return}const b=()=>{c(),m()},u=i(o.toString(),s);l&&l.addEventListener("abort",b);const m=()=>{u.abort(),l&&l.removeEventListener("abort",b)};u.on("error",h=>{n(new ie(`request to ${a.url} failed, reason: ${h.message}`,"system",h)),m()}),Pa(u,h=>{f&&f.body&&f.body.destroy(h)}),wr.version<"v14"&&u.on("socket",h=>{let T;h.prependListener("end",()=>{T=h._eventsCount}),h.prependListener("close",g=>{if(f&&T<h._eventsCount&&!g){const O=new Error("Premature close");O.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",O)}})}),u.on("response",h=>{u.setTimeout(0);const T=gt(h.rawHeaders);if(qr(h.statusCode)){const S=T.get("Location");let v=null;try{v=S===null?null:new URL(S,a.url)}catch{if(a.redirect!=="manual"){n(new ie(`uri requested responds with an invalid redirect URL: ${S}`,"invalid-redirect")),m();return}}switch(a.redirect){case"error":n(new ie(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),m();return;case"manual":break;case"follow":{if(v===null)break;if(a.counter>=a.follow){n(new ie(`maximum redirect reached at: ${a.url}`,"max-redirect")),m();return}const x={headers:new ce(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:dr(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!ct(a.url,v)||!ht(a.url,v))for(const $ of["authorization","www-authenticate","cookie","cookie2"])x.headers.delete($);if(h.statusCode!==303&&a.body&&e.body instanceof se.Readable){n(new ie("Cannot follow redirect with body being a readable stream","unsupported-redirect")),m();return}(h.statusCode===303||(h.statusCode===301||h.statusCode===302)&&a.method==="POST")&&(x.method="GET",x.body=void 0,x.headers.delete("content-length"));const D=Ta(T);D&&(x.referrerPolicy=D),t(Ca(new Pe(v,x))),m();return}default:return n(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}l&&h.once("end",()=>{l.removeEventListener("abort",b)});let g=ne.pipeline(h,new ne.PassThrough,S=>{S&&n(S)});wr.version<"v12.10"&&h.on("aborted",b);const O={url:a.url,status:h.statusCode,statusText:h.statusMessage,headers:T,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},p=T.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||p===null||h.statusCode===204||h.statusCode===304){f=new Q(g,O),t(f);return}const y={flush:G.Z_SYNC_FLUSH,finishFlush:G.Z_SYNC_FLUSH};if(p==="gzip"||p==="x-gzip"){g=ne.pipeline(g,G.createGunzip(y),S=>{S&&n(S)}),f=new Q(g,O),t(f);return}if(p==="deflate"||p==="x-deflate"){const S=ne.pipeline(h,new ne.PassThrough,v=>{v&&n(v)});S.once("data",v=>{(v[0]&15)===8?g=ne.pipeline(g,G.createInflate(),x=>{x&&n(x)}):g=ne.pipeline(g,G.createInflateRaw(),x=>{x&&n(x)}),f=new Q(g,O),t(f)}),S.once("end",()=>{f||(f=new Q(g,O),t(f))});return}if(p==="br"){g=ne.pipeline(g,G.createBrotliDecompress(),S=>{S&&n(S)}),f=new Q(g,O),t(f);return}f=new Q(g,O),t(f)}),mt(u,a).catch(n)})}function Pa(r,e){const t=U.from(`0\r
\r
`);let n=!1,a=!1,o;r.on("response",s=>{const{headers:i}=s;n=i["transfer-encoding"]==="chunked"&&!i["content-length"]}),r.on("socket",s=>{const i=()=>{if(n&&!a){const f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",e(f)}},l=f=>{a=U.compare(f.slice(-5),t)===0,!a&&o&&(a=U.compare(o.slice(-3),t.slice(0,3))===0&&U.compare(f.slice(-2),t.slice(3))===0),o=f};s.prependListener("close",i),s.on("data",l),r.on("close",()=>{s.removeListener("close",i),s.removeListener("data",l)})})}export{Ra as AbortError,ie as FetchError,ce as Headers,Pe as Request,Q as Response,Ca as default,qr as isRedirect};
